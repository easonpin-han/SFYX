"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tab=void 0;var _module_tool=require("./module_tool.js");function Tab(t){this.settings={selector:"#tab",etype:"onclick",autoplay:!1,invoke:1},this.options=t,this.init()}Tab.prototype.init=function(){var s=this,i=this;Object.assign(this.settings,this.options),this.tab=(0,_module_tool.$)(this.settings.selector),this.tab_title=this.tab.querySelector(".tab_title"),this.tab_content=this.tab.querySelector(".tab_content"),1<this.tab_title.children.length?this.tab_btns=this.tab_title.children:1===this.tab_title.children.length&&(this.tab_btns=this.tab_title.children[0].children),this.tab_items=this.tab_content.querySelectorAll(".item"),this.timer=null;for(var t=function(t){"onclick"===s.settings.etype||"onmouseover"!==s.settings.etype?s.tab_btns[t].onclick=function(){i.num=t,i.tabswitch(t)}:(s.tab_btns[t][s.settings.etype]=function(){i.timer=setTimeout(function(){i.num=t,i.tabswitch(t)},300)},s.tab_btns[t].onmouseout=function(){clearTimeout(i.timer)})},e=this.num=0;e<this.tab_btns.length;e++)t(e);if(this.settings.autoplay){var n=null;n=setInterval(function(){i.autopaly()},2e3),this.tab.onmouseover=function(){clearInterval(n)},this.tab.onmouseout=function(){n=setInterval(function(){i.autopaly()},2e3)}}"number"==typeof this.settings.invoke&&this.settings.invoke<=this.tab_btns.length&&1<=this.settings.invoke&&this.activeinvoke()},Tab.prototype.tabswitch=function(t){for(var s=0;s<this.tab_btns.length;s++)this.removeclass(this.tab_btns[s],"active"),this.removeclass(this.tab_items[s],"show");this.addclass(this.tab_btns[t],"active"),this.addclass(this.tab_items[t],"show")},Tab.prototype.autopaly=function(){this.num++,this.num>this.tab_btns.length-1&&(this.num=0),this.tabswitch(this.num)},Tab.prototype.activeinvoke=function(){this.num=this.settings.invoke-1,this.tabswitch(this.num)},Tab.prototype.addclass=function(t,s){if(t instanceof NodeList)for(var i=0;i<t.length;i++)1===t[i].nodeType&&(t[i].className+=" "+s+" ");else t instanceof Node&&1===t.nodeType&&(t.className+=" "+s+" ")},Tab.prototype.removeclass=function(t,s){var i=t.className.split(" "),e=i.indexOf(s);-1!==e&&i.splice(e,1),t.className=i.join(" ")},exports.Tab=Tab;